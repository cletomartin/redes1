
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Data-link layer &#8212; Computer Networks I</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="_static/doctools.js?v=888ff710"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="_static/copybutton.js?v=f281be69"></script>
    <script src="_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="_static/design-tabs.js?v=36754332"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'data-link';</script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Network layer" href="network.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="main.html">
  
  
  
  
  
  
    <p class="title logo__title">Computer Networks I</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="main.html">
                    Computer Networks I
                </a>
            </li>
        </ul>
        <ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="architecture.html">Network architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="application.html">Application layer</a></li>
<li class="toctree-l1"><a class="reference internal" href="transport.html">Transport layer</a></li>
<li class="toctree-l1"><a class="reference internal" href="network.html">Network layer</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Data-link layer</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="_sources/data-link.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Data-link layer</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#functionality">Functionality</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#framing">Framing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#flow-control-and-congestion-control">Flow control and congestion control</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#error-control">Error control</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#connectionless-and-connection-oriented">Connectionless and connection-oriented</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ethernet">Ethernet</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ethernet-addresses">Ethernet addresses</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ethernet-mac-layer">Ethernet MAC layer</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ethernet-frame">Ethernet frame</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#arp">ARP</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bridges-and-switchers">Bridges and Switchers</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#networking-examples">Networking examples</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="data-link-layer">
<h1>Data-link layer<a class="headerlink" href="#data-link-layer" title="Link to this heading">#</a></h1>
<p>This lesson describes in depth the data-link layer. It descripts its functionality, the link-layer addressing and ARP.
You can find the slides <a class="reference download internal" download="" href="_downloads/90c8d130cc10f7234e70919cc3cd188c/data-link.pdf"><span class="xref download myst">here</span></a>.</p>
<p>The data-link layer (or just link layer) is in charge of the <em>node-to-node</em> communication.
It is important to note that the <em>domain</em> of the link layer is limited to the nodes that are <em>directly</em> connected.
This means there is <em>no mediators</em> in the communication provided by this layer.</p>
<p>It is located under the network layer, so it receives/sends <em>frames</em> of data that are going to be used by the network layer.
It is also located on top of the physical layer so it does not deal with the transformation of the data into the physical signals that will be sent through the communication medium.
However, it will have to deal with some problems that the physical medium generates like transmission errors, propagation delays, etc.</p>
<section id="functionality">
<h2>Functionality<a class="headerlink" href="#functionality" title="Link to this heading">#</a></h2>
<p>The data-link layer is usually divided in 2 sublayers that perform operations at different abstraction layer:</p>
<ol class="arabic simple">
<li><p>The <em>data link control</em> layer (DLC): focused on error and flow control on both point-to-point and broadcast links.</p></li>
<li><p>The <em>media access control</em> layer (MAC): focused on the problems associated with sharing a medium like a broadcast links.
This sublayer is not required in those situations where only point-to-point links are used.</p></li>
</ol>
<section id="framing">
<h3>Framing<a class="headerlink" href="#framing" title="Link to this heading">#</a></h3>
<p>The first fundamental service that provided is <em>framing</em>.
The PDU is called <em>frame</em>. The network datagrams are encapsulated in frames that are going to be sent to the destination.
In the destination, those frames are going to be decapsulated and passed the transported datagram to the network layer.
The <em>intermediate nodes</em> perform these 2 operations all the time.
This is required because:</p>
<ul class="simple">
<li><p>They connect two different physical technologies</p></li>
<li><p>The addresses between link domains are different, so the frames need to be updated.</p></li>
</ul>
<p>Each frame has the following parts (shown in the slide):</p>
<ul class="simple">
<li><p><em>Flag</em>: used at the beginning and at the end of the frame to mark when it starts and when it ends.
The byte <code class="docutils literal notranslate"><span class="pre">01111110</span></code> is used for this.</p></li>
<li><p><em>Header</em>: with the source and destination addresses, sizes, etc.</p></li>
<li><p><em>Payload</em>: the data coming from the network layer.</p></li>
<li><p><em>Trailer</em>: typically used for error checking.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This framing process can be seen as our <em>postal</em> code.
When we put a message in an envelope, we are delimiting the information to be transported in a <em>frame</em> (the envelope).</p>
</div>
<p>The frame size can be:</p>
<ul>
<li><p><em>Fixed</em>: in which case there is no need of using any kind of delimiters as the fixed size itself can be used to distinguish different frames.
ATM (mostly used for WAN connections) uses this type of fixed frames called <em>cells</em>.</p></li>
<li><p><em>Variable</em>: prevalent in LAN environments and need the use of delimiters.
We have seen that we are going to use a known flag as a delimiter but: what would it happen if the flag is part of the network data?
In order to solve this problem, an <em>escape</em> value is used:</p>
<ol class="arabic simple">
<li><p>If FLAG is in the data, then add a special value ESC in front of it.</p></li>
<li><p>If ESC is also in data, then add ESC again as a prefix to avoid it.</p></li>
</ol>
<p>Since this is done at byte level, this technique is known as <em>byte stuffing</em>.
This process is performed for every single FLAG or ESC by found in the data.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the figure, the data contains FLAG and ESC.
The generated frame will have <code class="docutils literal notranslate"><span class="pre">ESC</span> <span class="pre">FLAG</span></code> and <code class="docutils literal notranslate"><span class="pre">ESC</span> <span class="pre">ESC</span></code>.
When this frame is received, the receiver will just to remove the escaping characters to get the original data.</p>
</div>
<p>Since process is done at byte level, it does not work well with today’s data encoding like Unicode that uses 16 or 32 bits.
For this reason, most of the protocols perform the this escaping technique at bit level. This is known as <em>bit stuffing</em>:</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Since de flag is <code class="docutils literal notranslate"><span class="pre">01111110</span></code>, the algorithm for escaping a problematic sequence goes as this:</p>
<ul class="simple">
<li><p>If <code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">11111</span></code> is found in the data then a <code class="docutils literal notranslate"><span class="pre">0</span></code> is appended to avoid matching the FLAG.
Then the next bit is added normally.</p></li>
<li><p>If the receiver detects <code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">11111</span> <span class="pre">0</span></code>, then it transforms it to <code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">11111</span></code>.</p></li>
<li><p>The real flag is never stuffed so there is no possible conflict.</p></li>
</ul>
</div>
</li>
</ul>
</section>
<section id="flow-control-and-congestion-control">
<h3>Flow control and congestion control<a class="headerlink" href="#flow-control-and-congestion-control" title="Link to this heading">#</a></h3>
<p>As we have seen in other layers, a frame producer can overwhelm a receiver if the number of frames pushed from the first one to the second one is too fast.
The link layer provides flow control by:</p>
<ul class="simple">
<li><p>Using buffers on both sides so those frames that cannot be processed at a certain time can be done later.</p></li>
<li><p>Use control frames for signalling the producer to reduce the transmission rate.</p></li>
</ul>
</section>
<section id="error-control">
<h3>Error control<a class="headerlink" href="#error-control" title="Link to this heading">#</a></h3>
<p>The physical layer is not reliable.
Even technologies like fibre optic can produce transmission errors and corrupt data while sending bits through the transmission medium.
In order to detect this kind of problems, a <em>Cyclic Redundancy Check</em> (CRC) is added to the frames by the sender and tested by the receiver.
This is very similar to the checksum fields we have seen so far.
If a corrupted frame is silently discarded, meaning that the network layer will not receive any of those.
For those that are <em>not</em> corrupted it needs to:</p>
<ol class="arabic simple">
<li><p>Pass it to the network layer,</p></li>
<li><p>Optionally, signal the sender with an ACK frame that the sent frame was received correctly.
This approach is also related with the flow control.</p></li>
</ol>
</section>
<section id="connectionless-and-connection-oriented">
<h3>Connectionless and connection-oriented<a class="headerlink" href="#connectionless-and-connection-oriented" title="Link to this heading">#</a></h3>
<p>Depending on the protocol used, the data transmission can happen:</p>
<ul class="simple">
<li><p><em>Connectionless</em>: where each frame is independent from each other and it is independent from the others.
Most wired LAN protocols use this.</p></li>
<li><p><em>Connection-oriented</em>: where the establishment of a connection is required prior the data transmission.
Some WLAN protocols and point-to-point WAN protocols use this approach.</p></li>
</ul>
</section>
</section>
<section id="ethernet">
<h2>Ethernet<a class="headerlink" href="#ethernet" title="Link to this heading">#</a></h2>
<p>This was the first LAN protocol in history designed by Xerox in 1976 and made it available in 1980.
The IEEE organisation started a project in 1985 called “Project 802” to define the link layer of the Internet stacks (OSI and TCP/IP).
They subdivided the data-link in 2 sublayers:</p>
<ul class="simple">
<li><p>The <em>logical link control</em> (LLC): similar to our already known DLC.
LLC is optional if the upper-layer protocols do not need them.
For TCP/IP traffic, they are not usually required.</p></li>
<li><p>The <em>media access control</em> (MAC): similar to our already known MAC.
In Ethernet, this layer is always present.</p></li>
</ul>
<p>Ethernet is one of the few protocols that have survived since the very beginning and today is common to find LANs at 10Gbps which is the forth generation.
Ethernet is connectionless and unreliable:</p>
<ul>
<li><p>It does not require the creation of a connection.</p></li>
<li><p>Frames can overwhelm the receiver and being discarded silently.
Frames can also be corrupted and the will be discarded silently.
If frames are discarded the sender will never know.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is up to the upper layers to provide reliability. IP nor UDP do it, so unless the application layer provides it, we can only rely on TCP to get a frame restransmitted.</p>
</div>
</li>
</ul>
<section id="ethernet-addresses">
<h3>Ethernet addresses<a class="headerlink" href="#ethernet-addresses" title="Link to this heading">#</a></h3>
<p>The Ethernet protocol defines 6 byte long (48 bits). They are represented as 6 bytes in hexadecimal separated by colons.
These addresses are associated to the NICs (<em>network interface controller</em>) attached to the node.
Each interface has its own MAC address. That way, a node can have multiple NICs attached to it each of them with a different MAC address.
The MAC address identifies the NIC in a particular LAN.</p>
<p>The structure of a MAC address can be divided in 2 groups:</p>
<ul class="simple">
<li><p>The <em>organisationally unique identifier</em> (OUI): the first 3 bytes, that identifies a specific manufacturer.
IEEE assigns them.
When an OUI is used, then the last 2 bits of the first byte will be always <code class="docutils literal notranslate"><span class="pre">00</span></code>.
All addresses using an OUI will be <em>globally unique</em>.
If an administrator replaces the OUI and uses a <em>locally unique</em> identifier, then it is expected that these bits are <code class="docutils literal notranslate"><span class="pre">10</span></code>.</p></li>
<li><p>The <em>NIC specific</em>: the last 3 bytes.</p></li>
</ul>
<p>When a MAC address is used as destination address, the last bit of the first byte determines the type of the frame:</p>
<ul class="simple">
<li><p><em>Unicast</em>: if the last bit is 0.</p></li>
<li><p><em>Multicast</em>: if the last bit is 1. A <em>broadcast</em> frame is really a special case of a multicast one as all bytes are set to <code class="docutils literal notranslate"><span class="pre">FF</span></code>.</p></li>
</ul>
<p>The MAC addresses are written as 6 bytes separated by colons.
However, they are <em>not</em> transmitted like that.
Instead, each byte is transmitted in the reversed order so the LSB of each byte is sent first.
This is why the last bits of the first byte contains the type of the frame: <em>they are transmitted and received first</em>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Important to note: even though a frame is unicast, that does not mean that, in a <em>shared medium</em> the frame is only received by the destination.
In a shared medium like a bridged cable LAN or a WLAN environment, <em>all</em> nodes will receive the unicast frame.
However, only the affected node will reply to it.</p>
</div>
</section>
<section id="ethernet-mac-layer">
<h3>Ethernet MAC layer<a class="headerlink" href="#ethernet-mac-layer" title="Link to this heading">#</a></h3>
<p>The MAC sublayer of Ethernet provides a way to access to a <em>shared medium</em>.
Shared media are problematic:</p>
<ul class="simple">
<li><p>Multiple nodes want to transmit at the same time. It requires a way to provide access to the transmission media in turn.</p></li>
<li><p>Collisions: when 2 or more nodes transmit at the same time a <em>collision</em> is produced.
This degrade the media utilisation, waste resources and increases the delay during communcation.</p></li>
</ul>
<p>The solution to this problem proposed by Ethernet is to use a technique called <em>carrier sense multiple access with collision detection</em> (CSMA/CD).
This mechanism to avoid collisions work as follows:</p>
<ol class="arabic simple">
<li><p>Nodes listen to the channel before start transmitting.</p></li>
<li><p>If it is used, then wait for a certain time.</p></li>
<li><p>If not used, then transmit and listen for other frames coming in.
If you can only see your message, then OK. If not, then abort the transmission and as a collision has been detected.
The frame will need to be resent again.</p></li>
</ol>
</section>
<section id="ethernet-frame">
<h3>Ethernet frame<a class="headerlink" href="#ethernet-frame" title="Link to this heading">#</a></h3>
<p>The standard Ethernet frame size goes from 64 to 1518 bytes. It can carry from 46 to 1500 bytes of data:</p>
<ul class="simple">
<li><p><em>Preamble</em>: 8 bytes that is not counted as part of the frame legnth.
The preamble is made of 8 bytes:</p>
<ol class="arabic simple">
<li><p>First 7 bytes are <code class="docutils literal notranslate"><span class="pre">10101010</span></code> (55 decimal).</p></li>
<li><p>Last byte is the <em>start frame delimiter</em> (SFD) and it is <code class="docutils literal notranslate"><span class="pre">10101011</span></code> (213).</p></li>
</ol>
</li>
<li><p><em>Target address</em>: 6 bytes.</p></li>
<li><p><em>Source address</em>: 6 bytes.</p></li>
<li><p><em>Type</em>: 2 bytes defined by the IANA:</p>
<ol class="arabic simple">
<li><p>From 0 to 45 are invalid values.</p></li>
<li><p>From 46 to 1500 are reserved to encapsulate LLC frames (802.2).
<em>In this case, the field indicates the length of the data field and not just the type</em>.</p></li>
<li><p>From 1500+ uses values assigned by the IANA to define the type of the protocol encapsulated.
For example <code class="docutils literal notranslate"><span class="pre">0x8000</span></code> is IPv4.</p></li>
</ol>
</li>
<li><p><em>Data</em>: from 46 to 1500 bytes. If the data is lower than 46, then it is fill with 0s.</p></li>
<li><p><em>Frame check sequence</em>: the CRC for detecting transmission errors.</p></li>
</ul>
<p>It is interesting that, if the <code class="docutils literal notranslate"><span class="pre">type</span></code> field value is between 46 and 1500, this field actually tells the length of the data field because it will carry an LLC frame encapsulated in it.
These frames are useful for supporting upper layers protocols that:</p>
<ul class="simple">
<li><p>Protocols that do not have a length field for the data.</p></li>
<li><p>Protocols that use flow control features like NetBIOS.</p></li>
<li><p>Protocols that require the <em>subnetwork access protocol</em> (SNAP header) since they used private protocol identifiers.</p></li>
</ul>
<p>In these situations, the LLC frame is the one carrying the data and because of some extra headers introduced by LLC, the minium and maximum data that they can carry changes from 46-1500 to 38-1492 (8 bytes less).</p>
</section>
</section>
<section id="arp">
<h2>ARP<a class="headerlink" href="#arp" title="Link to this heading">#</a></h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Now it is time to revisit the encapsulation process from top (application) to bottom (data-link).
Whatever message we generate at the application layer, we will have to send no less than 64 bytes at the link layer (14B of header and 46B of data encapsulating multiple and 4B as tail).
This means that if the application layer generates 4 bytes of data, it will fit in this minimal frame size.
Note that if not, the data will be filled with 0s.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Let’s suppose our PC sends an HTTP request to a web server:</p>
<ol class="arabic simple">
<li><p>The PC generates the message with the right source and destination IP addresses and, based in its routing table, it is sent to its gateway.</p></li>
<li><p>The router analyses the destination IP and, based in its routing table, forward the IP packet to its next hop.</p></li>
<li><p>The second router analyses the destination IP and, based in its routing table, locally delivers the packet to the web server.</p></li>
</ol>
<p>The local delivery performed in the first and last step is performed within the same network, at link level.
There must be a mechanism that transforms the destination IPs to the actual MAC addresses of the devices.</p>
</div>
<p><em>Address resolution protocol</em> (ARP) is a neighbour discovery protocol that helps with the problem of getting the MAC address given an IP address.</p>
</section>
<section id="bridges-and-switchers">
<h2>Bridges and Switchers<a class="headerlink" href="#bridges-and-switchers" title="Link to this heading">#</a></h2>
</section>
<section id="networking-examples">
<h2>Networking examples<a class="headerlink" href="#networking-examples" title="Link to this heading">#</a></h2>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="network.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Network layer</p>
      </div>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#functionality">Functionality</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#framing">Framing</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#flow-control-and-congestion-control">Flow control and congestion control</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#error-control">Error control</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#connectionless-and-connection-oriented">Connectionless and connection-oriented</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ethernet">Ethernet</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ethernet-addresses">Ethernet addresses</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ethernet-mac-layer">Ethernet MAC layer</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#ethernet-frame">Ethernet frame</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#arp">ARP</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#bridges-and-switchers">Bridges and Switchers</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#networking-examples">Networking examples</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Cleto Martín
</p>

  </div>
  
  <div class="footer-item">
    

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>